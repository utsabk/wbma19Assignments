<!--
  Generated template for the LoginRegisterPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title *ngIf="!showRegister">Login</ion-title>
    <ion-title *ngIf="showRegister">Register</ion-title>

  </ion-navbar>

</ion-header>

<ion-content class="login-content" padding>
  <div class="login-box">
    <form *ngIf="!showRegister" (ngSubmit)="login()" #loginForm="ngForm">
      <ion-row>
        <ion-col>
          <ion-list>

            <ion-item>
              <ion-input type="text" [(ngModel)]="user.username" name="username" placeholder="Username"
                         required></ion-input>
            </ion-item>

            <ion-item>
              <ion-input type="password" [(ngModel)]="user.password" name="password" placeholder="Password"
                         required></ion-input>
            </ion-item>

          </ion-list>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col class="signUp-col">
          <button ion-button full class="submit-btn" color="primary" type="submit" [disabled]="!loginForm.form.valid">
            Login
          </button>
        </ion-col>
      </ion-row>

    </form>
  </div>

  <!-- Register form starts here -->

  <div class="register-box">
    <form *ngIf="showRegister" #registerForm="ngForm">
      <ion-row>
        <ion-col>
          <ion-list>

            <ion-item>
              <ion-label *ngIf="userAlert" color="danger" stacked>User Exists!</ion-label>
              <ion-input required type="text" #username (change)="checkUserExists($event)" [(ngModel)]="user.username"
                         name="username" placeholder="Username" pattern=".{3,}"></ion-input>
            </ion-item>

            <ion-item>
              <ion-input required type="email" [(ngModel)]="user.email" name="email" placeholder="Email"></ion-input>
            </ion-item>

            <ion-item>
              <ion-input required type="password" [(ngModel)]="user.password" pattern=".{5,}" name="password"
                         placeholder="Password"></ion-input>
            </ion-item>

            <ion-item>
              <ion-input required type="password" [(ngModel)]="confirmPassword" name="confirmPassword"
                         placeholder="Confirm Password" (change)="passwordCheck($event)"></ion-input>
            </ion-item>


          </ion-list>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col class="signUp-col">
          <button ion-button full class="submit-btn" color="primary" type="submit" [disabled]="!registerForm.form.valid"
                  (click)="register()">Register
          </button>
        </ion-col>
      </ion-row>


    </form>
  </div>

  <button *ngIf="!showRegister" (click)="swapForm()" ion-button full type="submit" clear>Create New Account</button>
  <button *ngIf="showRegister" (click)="swapForm()" ion-button full type="submit" clear>Already a user? Login</button>


</ion-content>
